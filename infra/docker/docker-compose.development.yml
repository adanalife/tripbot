version: '3.7'

services:
  tripbot:
    environment:
      ENV: development
    env_file:
      - ./.env.development
    entrypoint: bash
    command: -c "go run cmd/tripbot/tripbot.go 2>&1"

  obs:
    environment:
      ENV: development
    env_file:
      - ./.env.development
    # comment this to enable obs container
    # entrypoint: "true"
    restart: on-failure
    entrypoint: bash
    # command: -c "/opt/tripbot/script/startup_scripts/start-vlc.sh 2>&1"
    command: -c "go run cmd/vlc-server/vlc-server.go 2>&1"

  db:
    volumes:
      - ./tmp/data:/var/lib/postgresql/data
